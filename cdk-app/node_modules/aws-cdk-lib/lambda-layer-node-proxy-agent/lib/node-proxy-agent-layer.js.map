{
  "version": 3,
  "sources": ["node-proxy-agent-layer.ts"],
  "sourcesContent": ["import * as crypto from 'crypto';\nimport * as fs from 'fs';\nimport * as path from 'path';\nimport * as lambda from '../../aws-lambda';\nimport { Construct } from 'constructs';\n\n/**\n * An AWS Lambda layer that includes the NPM dependency `proxy-agent`.\n */\nexport class NodeProxyAgentLayer extends lambda.LayerVersion {\n  constructor(scope: Construct, id: string) {\n    super(scope, id, {\n      code: lambda.Code.fromAsset(path.join(__dirname, 'layer.zip'), {\n        // we hash the Dockerfile (it contains the tools versions) because hashing the zip is non-deterministic\n        assetHash: hashFile(path.join(__dirname, '..', 'layer', 'Dockerfile')),\n      }),\n      description: '/opt/nodejs/node_modules/proxy-agent',\n    });\n  }\n}\n\nfunction hashFile(fileName: string) {\n  return crypto\n    .createHash('sha256')\n    .update(fs.readFileSync(fileName))\n    .digest('hex');\n}\n"],
  "mappings": "+JAAA,OAAA,QAAA,UACA,GAAA,QAAA,MACA,KAAA,QAAA,QACA,OAAA,QAAA,oBAMA,iCAAyC,QAAO,YAAY,CAC1D,YAAY,MAAkB,GAAU,CACtC,MAAM,MAAO,GAAI,CACf,KAAM,OAAO,KAAK,UAAU,KAAK,KAAK,UAAW,aAAc,CAE7D,UAAW,SAAS,KAAK,KAAK,UAAW,KAAM,QAAS,iBAE1D,YAAa,0CAPnB,QAAA,oBAAA,yJAYA,kBAAkB,SAAgB,CAChC,MAAO,QACJ,WAAW,UACX,OAAO,GAAG,aAAa,WACvB,OAAO",
  "names": []
}
