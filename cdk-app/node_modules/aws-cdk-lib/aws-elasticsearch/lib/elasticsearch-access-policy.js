"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ElasticsearchAccessPolicy=void 0;const iam=require("../../aws-iam"),cr=require("../../custom-resources");class ElasticsearchAccessPolicy extends cr.AwsCustomResource{constructor(scope,id,props){const policyDocument=new iam.PolicyDocument({statements:props.accessPolicies});super(scope,id,{resourceType:"Custom::ElasticsearchAccessPolicy",onUpdate:{action:"updateElasticsearchDomainConfig",service:"ES",parameters:{DomainName:props.domainName,AccessPolicies:JSON.stringify(policyDocument.toJSON())},outputPaths:["DomainConfig.ElasticsearchClusterConfig.AccessPolicies"],physicalResourceId:cr.PhysicalResourceId.of(`${props.domainName}AccessPolicy`)},policy:cr.AwsCustomResourcePolicy.fromSdkCalls({resources:[props.domainArn]})})}}exports.ElasticsearchAccessPolicy=ElasticsearchAccessPolicy;
//# sourceMappingURL=elasticsearch-access-policy.js.map
