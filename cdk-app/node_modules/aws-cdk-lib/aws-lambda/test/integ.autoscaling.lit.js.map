{
  "version": 3,
  "sources": ["integ.autoscaling.lit.ts"],
  "sourcesContent": ["import * as appscaling from '../../aws-applicationautoscaling';\nimport * as cdk from '../../core';\nimport * as lambda from '../lib';\n\n/**\n* Stack verification steps:\n* aws application-autoscaling describe-scalable-targets --service-namespace lambda --resource-ids function:<function name>:prod\n* has a minCapacity of 3 and maxCapacity of 50\n*/\nclass TestStack extends cdk.Stack {\n  constructor(scope: cdk.App, id: string) {\n    super(scope, id);\n\n    const fn = new lambda.Function(this, 'MyLambda', {\n      code: new lambda.InlineCode('exports.handler = async () => { console.log(\\'hello world\\'); };'),\n      handler: 'index.handler',\n      runtime: lambda.Runtime.NODEJS_10_X,\n    });\n\n    const version = fn.currentVersion;\n\n    const alias = new lambda.Alias(this, 'Alias', {\n      aliasName: 'prod',\n      version,\n    });\n\n    const scalingTarget = alias.addAutoScaling({ minCapacity: 3, maxCapacity: 50 });\n\n    scalingTarget.scaleOnUtilization({\n      utilizationTarget: 0.5,\n    });\n\n    scalingTarget.scaleOnSchedule('ScaleUpInTheMorning', {\n      schedule: appscaling.Schedule.cron({ hour: '8', minute: '0' }),\n      minCapacity: 20,\n    });\n\n    scalingTarget.scaleOnSchedule('ScaleDownAtNight', {\n      schedule: appscaling.Schedule.cron({ hour: '20', minute: '0' }),\n      maxCapacity: 20,\n    });\n\n    new cdk.CfnOutput(this, 'FunctionName', {\n      value: fn.functionName,\n    });\n  }\n}\n\nconst app = new cdk.App();\n\nnew TestStack(app, 'aws-lambda-autoscaling');\n\napp.synth();\n"],
  "mappings": "oEAAA,KAAA,YAAA,QAAA,oCACA,IAAA,QAAA,cACA,OAAA,QAAA,UAOA,uBAAwB,KAAI,KAAK,CAC/B,YAAY,MAAgB,GAAU,CACpC,MAAM,MAAO,IAEb,KAAM,IAAK,GAAI,QAAO,SAAS,KAAM,WAAY,CAC/C,KAAM,GAAI,QAAO,WAAW,kEAC5B,QAAS,gBACT,QAAS,OAAO,QAAQ,cAGpB,QAAU,GAAG,eAOb,cAAgB,AALR,GAAI,QAAO,MAAM,KAAM,QAAS,CAC5C,UAAW,OACX,UAG0B,eAAe,CAAE,YAAa,EAAG,YAAa,KAE1E,cAAc,mBAAmB,CAC/B,kBAAmB,KAGrB,cAAc,gBAAgB,sBAAuB,CACnD,SAAU,WAAW,SAAS,KAAK,CAAE,KAAM,IAAK,OAAQ,MACxD,YAAa,KAGf,cAAc,gBAAgB,mBAAoB,CAChD,SAAU,WAAW,SAAS,KAAK,CAAE,KAAM,KAAM,OAAQ,MACzD,YAAa,KAGf,GAAI,KAAI,UAAU,KAAM,eAAgB,CACtC,MAAO,GAAG,gBAKhB,KAAM,KAAM,GAAI,KAAI,IAEpB,GAAI,WAAU,IAAK,0BAEnB,IAAI",
  "names": []
}
