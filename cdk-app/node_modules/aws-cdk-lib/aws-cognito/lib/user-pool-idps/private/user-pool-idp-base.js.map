{
  "version": 3,
  "sources": ["user-pool-idp-base.ts"],
  "sourcesContent": ["import { Resource } from '../../../../core';\nimport { Construct } from 'constructs';\nimport { StandardAttributeNames } from '../../private/attr-names';\nimport { IUserPoolIdentityProvider } from '../../user-pool-idp';\nimport { UserPoolIdentityProviderProps, AttributeMapping } from '../base';\n\n/**\n * Options to integrate with the various social identity providers.\n *\n * @internal\n */\nexport abstract class UserPoolIdentityProviderBase extends Resource implements IUserPoolIdentityProvider {\n  public abstract readonly providerName: string;\n\n  public constructor(scope: Construct, id: string, private readonly props: UserPoolIdentityProviderProps) {\n    super(scope, id);\n    props.userPool.registerIdentityProvider(this);\n  }\n\n  protected configureAttributeMapping(): any {\n    if (!this.props.attributeMapping) {\n      return undefined;\n    }\n    type SansCustom = Omit<AttributeMapping, 'custom'>;\n    let mapping: { [key: string]: string } = {};\n    mapping = Object.entries(this.props.attributeMapping)\n      .filter(([k, _]) => k !== 'custom') // 'custom' handled later separately\n      .reduce((agg, [k, v]) => {\n        return { ...agg, [StandardAttributeNames[k as keyof SansCustom]]: v.attributeName };\n      }, mapping);\n    if (this.props.attributeMapping.custom) {\n      mapping = Object.entries(this.props.attributeMapping.custom).reduce((agg, [k, v]) => {\n        return { ...agg, [k]: v.attributeName };\n      }, mapping);\n    }\n    if (Object.keys(mapping).length === 0) { return undefined; }\n    return mapping;\n  }\n}"],
  "mappings": "gHAAA,KAAA,QAAA,QAAA,oBAEA,aAAA,QAAA,4BASA,0CAA2D,QAAA,QAAQ,CAGjE,YAAmB,MAAkB,GAA6B,MAAoC,CACpG,MAAM,MAAO,IADmD,KAAA,MAAA,MAEhE,MAAM,SAAS,yBAAyB,MAGhC,2BAAyB,CACjC,GAAI,CAAC,KAAK,MAAM,iBACd,OAGF,GAAI,SAAqC,GAWzC,GAVA,QAAU,OAAO,QAAQ,KAAK,MAAM,kBACjC,OAAO,CAAC,CAAC,EAAG,KAAO,IAAM,UACzB,OAAO,CAAC,IAAK,CAAC,EAAG,KACT,KAAK,KAAM,aAAA,uBAAuB,IAAyB,EAAE,gBACnE,SACD,KAAK,MAAM,iBAAiB,QAC9B,SAAU,OAAO,QAAQ,KAAK,MAAM,iBAAiB,QAAQ,OAAO,CAAC,IAAK,CAAC,EAAG,KACrE,KAAK,KAAM,GAAI,EAAE,gBACvB,UAED,OAAO,KAAK,SAAS,SAAW,EACpC,MAAO,UAzBX,QAAA,6BAAA",
  "names": []
}
